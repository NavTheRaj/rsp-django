{% extends 'game/base.html' %}
{% block title %}Play RPS{% endblock %}


{% block content %}
<form method="post" class="card">
{% csrf_token %}
<label for="choice">Your move:</label>
<select id="choice" name="choice" required>
<option value="" disabled selected>Select…</option>
{% for c in choices %}
<option value="{{ c }}" {% if player == c %}selected{% endif %}>{{ c|title }}</option>
{% endfor %}
</select>
<button type="submit">Play</button>
</form>


{% if result %}
<div class="card result">
<p>You played: <strong>{{ player|title }}</strong></p>
<p>Computer played: <strong>{{ computer|title }}</strong></p>
<p class="badge {{ result }}">Result: {{ result|title }}</p>
</div>
{% endif %}


<section class="card api-docs">
<h2>API</h2>
<p>
GET <code>/api/play/?choice=rock</code> →
<code>{"player":"rock","computer":"paper","result":"lose"}</code>
</p>
</section>
{% endblock %}